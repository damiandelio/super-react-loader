function _interopDefault (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }

var React = _interopDefault(require('react'));
var ReactDOM = _interopDefault(require('react-dom'));
require('spinkit/spinkit.min.css');
require('./main.css');

var PlaneSpinner = function PlaneSpinner() {
  return /*#__PURE__*/React.createElement("div", {
    className: "sk-plane"
  });
};
var ChaseSpinner = function ChaseSpinner() {
  return /*#__PURE__*/React.createElement("div", {
    className: "sk-chase"
  }, /*#__PURE__*/React.createElement("div", {
    className: "sk-chase-dot"
  }), /*#__PURE__*/React.createElement("div", {
    className: "sk-chase-cot"
  }), /*#__PURE__*/React.createElement("div", {
    className: "sk-chase-dot"
  }), /*#__PURE__*/React.createElement("div", {
    className: "sk-chase-dot"
  }), /*#__PURE__*/React.createElement("div", {
    className: "sk-chase-dot"
  }), /*#__PURE__*/React.createElement("div", {
    className: "sk-chase-dot"
  }));
};
var BaunceSpinner = function BaunceSpinner() {
  return /*#__PURE__*/React.createElement("div", {
    className: "sk-bounce"
  }, /*#__PURE__*/React.createElement("div", {
    className: "sk-bounce-dot"
  }), /*#__PURE__*/React.createElement("div", {
    className: "sk-bounce-dot"
  }));
};
var WaveSpinner = function WaveSpinner() {
  return /*#__PURE__*/React.createElement("div", {
    className: "sk-wave"
  }, /*#__PURE__*/React.createElement("div", {
    className: "sk-wave-rect"
  }), /*#__PURE__*/React.createElement("div", {
    className: "sk-wave-rect"
  }), /*#__PURE__*/React.createElement("div", {
    className: "sk-wave-rect"
  }), /*#__PURE__*/React.createElement("div", {
    className: "sk-wave-rect"
  }), /*#__PURE__*/React.createElement("div", {
    className: "sk-wave-rect"
  }));
};
var PulseSpinner = function PulseSpinner() {
  return /*#__PURE__*/React.createElement("div", {
    className: "sk-pulse"
  });
};
var FlowSpinner = function FlowSpinner() {
  return /*#__PURE__*/React.createElement("div", {
    className: "sk-flow",
    style: {
      alignItems: "center"
    }
  }, /*#__PURE__*/React.createElement("div", {
    className: "sk-flow-dot"
  }), /*#__PURE__*/React.createElement("div", {
    className: "sk-flow-dot"
  }), /*#__PURE__*/React.createElement("div", {
    className: "sk-flow-dot"
  }));
};
var SwingSpinner = function SwingSpinner() {
  return /*#__PURE__*/React.createElement("div", {
    className: "sk-swing"
  }, /*#__PURE__*/React.createElement("div", {
    className: "sk-swing-dot"
  }), /*#__PURE__*/React.createElement("div", {
    className: "sk-swing-dot"
  }));
};
var CircleSpinner = function CircleSpinner() {
  return /*#__PURE__*/React.createElement("div", {
    className: "sk-circle"
  }, /*#__PURE__*/React.createElement("div", {
    className: "sk-circle-dot"
  }), /*#__PURE__*/React.createElement("div", {
    className: "sk-circle-dot"
  }), /*#__PURE__*/React.createElement("div", {
    className: "sk-circle-dot"
  }), /*#__PURE__*/React.createElement("div", {
    className: "sk-circle-dot"
  }), /*#__PURE__*/React.createElement("div", {
    className: "sk-circle-dot"
  }), /*#__PURE__*/React.createElement("div", {
    className: "sk-circle-dot"
  }), /*#__PURE__*/React.createElement("div", {
    className: "sk-circle-dot"
  }), /*#__PURE__*/React.createElement("div", {
    className: "sk-circle-dot"
  }), /*#__PURE__*/React.createElement("div", {
    className: "sk-circle-dot"
  }), /*#__PURE__*/React.createElement("div", {
    className: "sk-circle-dot"
  }), /*#__PURE__*/React.createElement("div", {
    className: "sk-circle-dot"
  }), /*#__PURE__*/React.createElement("div", {
    className: "sk-circle-dot"
  }));
};
var CircleFadeSpinner = function CircleFadeSpinner() {
  return /*#__PURE__*/React.createElement("div", {
    className: "sk-circle-fade"
  }, /*#__PURE__*/React.createElement("div", {
    className: "sk-circle-fade-dot"
  }), /*#__PURE__*/React.createElement("div", {
    className: "sk-circle-fade-dot"
  }), /*#__PURE__*/React.createElement("div", {
    className: "sk-circle-fade-dot"
  }), /*#__PURE__*/React.createElement("div", {
    className: "sk-circle-fade-dot"
  }), /*#__PURE__*/React.createElement("div", {
    className: "sk-circle-fade-dot"
  }), /*#__PURE__*/React.createElement("div", {
    className: "sk-circle-fade-dot"
  }), /*#__PURE__*/React.createElement("div", {
    className: "sk-circle-fade-dot"
  }), /*#__PURE__*/React.createElement("div", {
    className: "sk-circle-fade-dot"
  }), /*#__PURE__*/React.createElement("div", {
    className: "sk-circle-fade-dot"
  }), /*#__PURE__*/React.createElement("div", {
    className: "sk-circle-fade-dot"
  }), /*#__PURE__*/React.createElement("div", {
    className: "sk-circle-fade-dot"
  }), /*#__PURE__*/React.createElement("div", {
    className: "sk-circle-fade-dot"
  }));
};
var GridSpinner = function GridSpinner() {
  return /*#__PURE__*/React.createElement("div", {
    className: "sk-grid"
  }, /*#__PURE__*/React.createElement("div", {
    className: "sk-grid-cube"
  }), /*#__PURE__*/React.createElement("div", {
    className: "sk-grid-cube"
  }), /*#__PURE__*/React.createElement("div", {
    className: "sk-grid-cube"
  }), /*#__PURE__*/React.createElement("div", {
    className: "sk-grid-cube"
  }), /*#__PURE__*/React.createElement("div", {
    className: "sk-grid-cube"
  }), /*#__PURE__*/React.createElement("div", {
    className: "sk-grid-cube"
  }), /*#__PURE__*/React.createElement("div", {
    className: "sk-grid-cube"
  }), /*#__PURE__*/React.createElement("div", {
    className: "sk-grid-cube"
  }), /*#__PURE__*/React.createElement("div", {
    className: "sk-grid-cube"
  }));
};
var FoldSpinner = function FoldSpinner() {
  return /*#__PURE__*/React.createElement("div", {
    className: "sk-fold"
  }, /*#__PURE__*/React.createElement("div", {
    className: "sk-fold-cube"
  }), /*#__PURE__*/React.createElement("div", {
    className: "sk-fold-cube"
  }), /*#__PURE__*/React.createElement("div", {
    className: "sk-fold-cube"
  }), /*#__PURE__*/React.createElement("div", {
    className: "sk-fold-cube"
  }));
};
var WanderSpinner = function WanderSpinner() {
  return /*#__PURE__*/React.createElement("div", {
    className: "sk-wander"
  }, /*#__PURE__*/React.createElement("div", {
    className: "sk-wander-cube"
  }), /*#__PURE__*/React.createElement("div", {
    className: "sk-wander-cube"
  }), /*#__PURE__*/React.createElement("div", {
    className: "sk-wander-cube"
  }), /*#__PURE__*/React.createElement("div", {
    className: "sk-wander-cube"
  }));
};

var CONTAINER_REF = document.createElement("div");
var DEFAULT_LOADER = /*#__PURE__*/React.createElement(CircleFadeSpinner, null);
var DEFAULT_SIZE = "4rem";
var DEFAULT_COLOR = "#333";
var DEFAULT_BACKGROUND = "#fff";
var PRESET_LOADERS = {
  "plane": /*#__PURE__*/React.createElement(PlaneSpinner, null),
  "chase": /*#__PURE__*/React.createElement(ChaseSpinner, null),
  "baunce": /*#__PURE__*/React.createElement(BaunceSpinner, null),
  "wave": /*#__PURE__*/React.createElement(WaveSpinner, null),
  "pulse": /*#__PURE__*/React.createElement(PulseSpinner, null),
  "flow": /*#__PURE__*/React.createElement(FlowSpinner, null),
  "swing": /*#__PURE__*/React.createElement(SwingSpinner, null),
  "circle": /*#__PURE__*/React.createElement(CircleSpinner, null),
  "circle-fade": /*#__PURE__*/React.createElement(CircleFadeSpinner, null),
  "grid": /*#__PURE__*/React.createElement(GridSpinner, null),
  "fold": /*#__PURE__*/React.createElement(FoldSpinner, null),
  "wander": /*#__PURE__*/React.createElement(WanderSpinner, null)
};
var Loader = DEFAULT_LOADER;
var count = 0;

function setCssVar(name, newValue) {
  document.documentElement.style.setProperty(name, newValue);
}

document.body.appendChild(CONTAINER_REF);
setCssVar("--sk-size", DEFAULT_SIZE);
setCssVar("--sk-color", DEFAULT_COLOR);
setCssVar("--srl-background", DEFAULT_BACKGROUND);

function setPresetLoader(_ref) {
  var preset = _ref.preset,
      size = _ref.size,
      color = _ref.color,
      bg = _ref.bg;
  setCssVar("--sk-size", size ? size : DEFAULT_SIZE);
  setCssVar("--sk-color", color ? color : DEFAULT_COLOR);
  setCssVar("--srl-background", bg ? bg : DEFAULT_BACKGROUND);
  var p = PRESET_LOADERS[preset];

  if (p) {
    Loader = p;
  } else {
    console.error('setPresetLoader invalid preset');
  }
}

function setCustomLoader(customLoader) {
  if (React.isValidElement(customLoader)) {
    Loader = customLoader;
  } else {
    console.error('setCustomLoader expects a valid React component');
  }
}

function show(callback) {
  if (callback === void 0) {
    callback = function callback() {};
  }

  if (count === 0) {
    ReactDOM.render( /*#__PURE__*/React.createElement("div", {
      className: "loader_loaderContainer"
    }, Loader), CONTAINER_REF, callback);
  }

  count++;
}

function hide() {
  if (count > 0) {
    count--;
  }

  if (count === 0) {
    ReactDOM.unmountComponentAtNode(CONTAINER_REF);
  }
}

function isDisplaying() {
  return count !== 0;
}

var loader = {
  setPresetLoader: setPresetLoader,
  setCustomLoader: setCustomLoader,
  show: show,
  hide: hide,
  isDisplaying: isDisplaying
};

module.exports = loader;
